<html>
    <head>
        <header id="h1" style="color: rgb(132, 199, 45); font-size: xx-large; position: absolute; top: 60px; left: 520px;">
            <strong>Web 1: Asignacion 2</strong>
        </header>
    </head>
    <body background="lib/Matrix.jpg" style="background-repeat: no-repeat;background-size:cover; background-color: black;">
        <canvas id="canvas" width="730" height="330" style="border: 1px black; position: absolute;top: 200px;left: 500px;"></canvas>
        <audio style="position: absolute;left: 1050px;top: 150px;" controls>
            <source src="lib/idk.mp3" type="audio/mpeg">
        </audio>
        <iframe style="position: absolute; top: 250px; left: 1035px;" width="320" height="210" src="https://www.youtube.com/embed/cqMfPS8jPys" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <form onsubmit="test();return false" style="position:absolute; top: 30px; left: 1130px">
            <label for ="backgrounds" style="color:rgb(194, 194, 194)"><strong>Select a new background</strong></label>
            <select name ="backgrounds" id="backgrounds">
                <option value="lib/Space.jpg">Space</option>
                <option value="lib/car.jpg">Some car</option>
                <option value="lib/Pain.jpg">Pain</option>
                <Option value="lib/Matrix.jpg">Matrix</Option>
                <option value="">No background</option>
            </select>
            <input type="submit" value="Submit">
        </form>
        <script>
            let col = 4;
            let frame = 0;
            var c = document.getElementById("canvas");
            var ctx = c.getContext("2d");
            ctx.fillStyle ="transparent";
            ctx.fillRect(0,0,c.width,c.height);
            sprite = new Image();
            sprite.src = "lib/sans.png";
            sprite.onload = function(){
                ctx.drawImage(sprite, (sprite.width / col) * frame, 0, (sprite.width / col), sprite.height, 0, 0, sprite.width / col, sprite.height);
                setInterval(function(){
                    ++frame;
                    if (frame > col - 1){
                        frame = 0;
                    }
                    ctx.clearRect(0,0,c.width,c.height);
                    ctx.drawImage(sprite, (sprite.width / col) * frame, 0, (sprite.width / col), sprite.height, 0, 0, sprite.width / col, sprite.height);
                }, 500);
            }
        </script>
        <script>
            function test(){
                document.body.background = document.getElementById("backgrounds").value;
            }
        </script>
    </body>
</html>